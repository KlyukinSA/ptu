# Содержание курса Защита информации

## Лабораторная работа No 1. Исследование зависимости криптостойкости от длины ключа

1.1. Информация по стенду
• Требуемые ВМ
- deb10-1
• Вход в систему
sysadmin:netlab123
• Получение привелегий суперпользователя (пароль netlab123)
su -
1.2. Утилита fcrackzip
fcrackzip - утилита для востановления/взлома паролей zip-архивов
Может использоваться и как инструмент восстановления данных и
как инструмент злоумышленника
1.3. Подготовка системы
Задание выполняется на ВМ deb10-1, потребуется подключение к се-
ти Internet.
• Установка необходимых компонент в ОС Debian (выполняется под УЗ су-
перпользователя)
apt update && apt install fcrackzip zip unzip git
Убедитесь, что компоненты установлены.
1• Получение файлов, необходимых для выполнения лабораторной работы.
Выполняется на ВМ, войдя в систему под УЗ sysadmin и находясь в его
домашнем каталоге
git clone https://github.com/esorlov/infsec/
• Перейдите в каталог текущей лабораторной работы
cd infsec/lab1
• Убедитесь, что присутствуют файл opentext.txt и скрипт создания отчета
по лабораторной работе report
pwd
/home/sysadmin/infsec/lab1
ls
opentext.txt report
1.4. Задание 1. Создание зашифрованных zip-архивов
Создание зашифрованных ZIP-архивов производится командой
zip -e <archive.zip> <files...>
Пароль для создания ключа шифрования вводится с клавиатуры
• Выполните создание из файла opentext.txt зашифрованных архивов в соот-
ветствии со следующей таблицей.
Имя архивасодержимоедлина пароляпароль
archive2.zip
archive3.zip
archive4.zip
archive5.zip
archive6.zipopentext.txt
opentext.txt
opentext.txt
opentext.txt
opentext.txt
ne
net
netl
netla
netlab
• Пример
zip -e archive2.zip opentext.txt
. . .
zip -e archive3.zip opentext.txt
. . .
• Попробуйте открыть один из архивов при помощи неверного пароля. Убе-
дитесь, что это невозможно.
• Убедитесь, что при указании верного пароля от архива возникает пред-
ложение перезаписать уже существующий в текущем каталоге файл
opentext.txt. Т.е. извлечение файла становится возможным.
21.5. Восстановление паролей зашифрованных ZIP-архивов
В этой части задания якобы потерянные пароли от зашифрованных
ZIP-архивов будут восстановлены с использованием специальной
утилиты fcrackzip.
Fcrackzip пытается восстановить пароль архива методом полного пе-
ребора (метод грубой силы).
Ваша задача понять как длина указанного при создании архива паро-
ля, т.е. по сути длина ключа шифрования влияет на время необходи-
мое на осуществление полного перебора (выполнение атаки на крип-
тосистему методом грубой силы).
• Ознакомьтесь со справкой по команде fcrackzip
fcrackzip -h
Для восстановления пароля мы будем использовать следующее соче-
тание опций
-vul min-max -c a
где -l min-max - диапазон длины пароля от минимального до макси-
мального значения, -v - подробно -u - использовать unzip -c a - пере-
бирать среди символов нижнего регистра
• Попробуйте восстановить пароль, например для архива archive3.zip,
используя следующую команду
fcrackzip -vul 3-3 -c a archive3.zip
Соответствует ли восстановленный пароль ранее введенному?
1.6. Задание 2. Исследование времени восстановления паролей
Для определения точного времени, необходимого на восстановление
пароля от зашифрованного архива мы будем использовать утилиту
time
• Выполните следующие команды и зафиксируйте время их выполнения по
выводу утилиты time (
• Интересует общее время, т.е. значение в строчке real
time fcrackzip -vul 2-2 -c a archive2.zip
time fcrackzip -vul 3-3 -c a archive3.zip
time fcrackzip -vul 4-4 -c a archive4.zip
time fcrackzip -vul 5-5 -c a archive5.zip
time fcrackzip -vul 6-6 -c a archive6.zip
Если требуемое для перебора время превышает несколько минут, на-
пример при восстановлении archive6.zip, продолжать не стоит, доста-
точно результата полученного для длины 5 символов.
3• Выполните указанные выше команды по 3 раза, чтобы иметь возможность
усреднить значение времени перебора. Полученные значения времени T1,
T2 и T3 для каждого значения длины пароля зафиксируйте в таблице вида
K, Длина
пароля
T1, Время,
мс
T2, Время,
мс
T3, Время,
мс
T, Среднее время,
мс
1.7. Задание 3. Подсчет скорости перебора паролей
Сложность перебора (С) оценивается как мощность алфавита (N) воз-
веденной в степень длины пароля (K)
C = NK
Скорость перебора S - это сложность перебора (С), разделить на время
(T)
C
NK
=
T
T
• Исходя из полученных в предыдущем пункте данных о времени выполне-
ния восстановления пароля оцените приблизительную скорость перебора
в символах в милисекунду, выполнив подсчет для различных длин паро-
ля. используйте калькулятор. Мощность алфавита - 26 (символы нижнего
регистра, англ).
S=
При получении в результатах времени, большего, чем 1 мину-
та, необходимо правильно выполнить преобразование в секун-
ды/милисекунды, например
time fcrackzip -vul 6-6 -c a archive6.zip
found file 'opentext.txt', (size cp/uc
278/
checking pw ndjtfz
PASSWORD FOUND!!!!: pw == netlab
real
17m7,197s
user
14m57,000s
sys 1m57,980s
4
447, flags 9, chk 4e09)Время - 17 минут 7,197 секунд
17*60 + 7,197 = 1027,197
• Для фиксации результатов можно использовать следующую таблицу. Для
длин от 2 до 5(6) среднее время должно быть измерено в Задании 2, а ско-
рость вычеслена. Для длин больших 5(6) необходимо оценить предполага-
емое время на основании оценочной скорости перебора.
K, Длина пароля
T, Среднее время, мс
S, Скорость перебора
Обратите внимание, что скорость перебора должна возрастать по ме-
ре увеличения сложности, связано это с тем, что чем выше сложность
тем меньше в полученном результате накладных расходов, связанных
с выполнением вспомогательного кода, выполнением системынх вы-
зовов, ввода-вывода и т.п. В качестве оценочного значения скорости
перебора возьмите значение полученное при использовании макси-
мальной длины пароля. При необходимости выполните повторную
оценку и скорректируйте данные.
• Используя полученную оценочную скорость перебора (S), оцените предпо-
лагаемое время в милисекундах-секундах-минутах-часах, необходимое для
перебора пароля длиной 7 и 8 символов
NK
S
• Попробуйте изменить мощность словаря, используемого при переборе,
убрав ограничение на перебор только по буквам нижнего регистра
T =
time fcrackzip -vul 4-4 archive4.zip
Оцените, как в этом случае поменялось время перебора
• Внимание! Стоит учесть, что время восстановление ключа не позволяет
точно опредедлить скорость перебора, т.к. не перебираются все возможные
комбинации, а столько сколько встречается до нахождения совпадения. Тем
не менее, полученные в лабораторной значения позволяют оценить измене-
ние сложности перебора в зависимости от длины ключа.
51.8. Задание 4. Отчет по лабораторной
• Запустите скрипт report из каталога текущей лабораторной
sh report
• Укажите свои ФИО, номер группы и ответьте на вопросы исходя из полу-
ченнх вами данных.
• Полученный в итоге работы скрипта файл с закодированным содержимым
- это ваш отчет по лабораторной. Его (только файл) необходимо загрузить в
moodle в кач-ве отчета по лабораторной работе.

# Проверяемые знания

## 1

- Структура команды при запуске брутфорса
- За что каждый ключ отвечает
- С каких символов начинается перебор
- Как изменить это
- Как вскрыть .tar
- как открыть архив у которого пароль 3 пробела
- что если поставить !!!

## 2

- удалите и снова создайте ключ
- создайте с другим методом шифрования
- что такое gpg
    зачем нужно
- что такое ключ armor
    это текстовый (не бинарный)
- как отозвать подпись у ключа
    `--detach-sign`
- какой алгоритм используется по умолчанию
    RSA
- как задавать алгоритм шифрования ключей
    `gpg --full-generate-key`
    и там задать
- что такое fingerprint
- чем отличается уровень доверия абсолютный от полного
    разница только в том что вы создатель ключа, если уровень доверия абсолютный
- как удалить ключ
    `gpg —delete-keys ID`
- для секретных ключей
    `gpg —delete-secret-keys ID`
- как отозвать подпись у импортированного ключа
    --edit-key revsig
- как и зачем используется адрес электронной почты? Обязательно ли писать именно почту?

# Темы лекций

1. Основные понятия и определения
1. Основы криптографии
1. Симметричная криптография
1. Хэш-функции
1. Ассиметричная криптография
1. PKI
1. Подсистема защиты ОС
1. Дискреционный доступ в UNIX/Linux
1. Мандатный доступ
1. Мандатный доступ (SELinux targeted)
1. Создание политики мандатного доступа
1. Атаки с внедрением кода
1. Мандатный контроль доступа - Модель Белла-ЛаПадула. PARSEC
1. Уязвимости сетевых протоколов и служб
1. Основы сетевой безопасности
1. Межсетевые экраны. Фильтрация пакетов
1. IDS. Системы обнаружения вторжений
1. NIDS. Сетевые системы обнаружения / предотвращения вторжений
1. Технологии изоляции в защите информации
