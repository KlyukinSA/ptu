import numpy as np
import matplotlib.pyplot as plt


fmt = "%0.2E"
inf = float('inf')


if False:
    ef = open('explicit.txt', 'r')
    e = ef.readlines()
    imf = open('implicit.txt', 'r')
    im = imf.readlines()
    for i, line in enumerate(e):
      t = line.replace('\n', ' ').split(' ')
      print(t[0], '&', t[1], '&', im[i].replace('\n', ' ').split(' ')[1], '\\\\')

# 3 exp 4x6
# Ns = [8, 16, 32, 64]
# Hs = [0.1, 0.01, 0.001, 0.0001, 1e-05, 1e-06]
# maxmaxmax = [[1137497900000000.0, inf, 0.0062823296, 0.0068534613, 0.0068432093, 0.0064291954],[1.4895476e+20, inf, inf, 0.0016649961, 0.0016653538, 0.0012897253],[1.9073855e+25, inf, inf, 0.00037503242, 0.0003899336, 0.0015624762],[2.4638531e+30, inf, inf, inf, 8.869171e-05, 0.0016542673]]

# 3 imp 4
# Ns = [8, 16, 32, 64]
# Hs = [0.1, 0.01, 0.001, 0.0001]
# maxmaxmax = [[0.012583405, 0.0053721666, 0.006765485, 0.006910324], [0.01698482, 0.0004107952, 0.0015816689, 0.0017040968], [0.018093824, 0.0015332401, 0.00028204918, 0.000400424], [0.018360287, 0.0018690228, 9.417534e-05, 0.00012028217]]

# 4 exp 4
# Ns = [8, 16, 32, 64]
# Hs = [0.1, 0.01, 0.001, 0.0001]
# maxmaxmax = [[1213806000000.0, inf, 0.0, 0.0], [5.230617e+18, inf, inf, 0.0], [4.672042e+24, inf, inf, 3.5762787e-07], [1.1984469e+31, inf, inf, inf]]

# 4 imp 5
# Ns = [8, 16, 32, 64, 128]
# Hs = [0.1, 0.01, 0.001, 0.0001, 1e-05]
# maxmaxmax = [[1.66893e-06, 7.748604e-07, 5.9604645e-08, 1.4305115e-06, 5.066395e-06], [9.596348e-06, 9.119511e-06, 1.1920929e-07, 5.9604645e-07, 8.46386e-06], [6.4373016e-06, 1.5497208e-06, 1.0728836e-06, 4.7683716e-07, 1.4305115e-06], [4.529953e-06, 1.4305115e-06, 3.6001205e-05, 9.536743e-07, 8.34465e-07], [1.41859055e-05, 7.778406e-05, 3.695488e-06, 5.9604645e-06, 1.5497208e-06]]

# 5 imp 4
Ns = [8, 16, 32, 64]
Hs = [0.1, 0.01, 0.001, 0.0001]
maxmaxmax = [[0.004309535, 0.008238971, 0.0086734295, 0.008716226], [0.0030849897, 0.0017657876, 0.0021401048, 0.0021786094], [0.003927601, 0.00023487938, 0.00050508976, 0.0005416274], [0.0041442327, 0.0003862715, 9.62019e-05, 0.00013196468]]

if False:
    print(' ',end=' & ')
    for j in range(len(Hs) - 1):
        print(Hs[j],end=' & ')
    print(Hs[-1],end=' \\\\ \n')
    print("\midrule")
    for i in range(len(Ns)):
        print(Ns[i],end=' & ')
        for j in range(len(Hs) - 1):
            print(fmt%maxmaxmax[i][j],end=' & ')
        print(fmt%maxmaxmax[i][-1],end=' \\\\ \n')
else:
    # maxmaxmax = np.log(np.array(maxmaxmax))

    plt.imshow(maxmaxmax, cmap='gray_r')
    plt.xticks(range(len(Hs)), Hs)
    plt.yticks(range(len(Ns)), Ns)

    plt.xlabel('H')
    plt.ylabel('N')
    # plt.title(sys.argv[1]+'_'+sys.argv[2]+'_'+sys.argv[3])
    plt.show()